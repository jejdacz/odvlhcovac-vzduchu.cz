@for $i from 1 through $grid-cols {
  .col-#{$i} {
    flex-basis: (100% / $grid-cols * $i);
    max-width: (100% / $grid-cols * $i);
  }
}

@each $bp-key, $bp-val in $breakpoints {
  @media (min-width: $bp-val) {
    @for $i from 1 through $grid-cols {
      .col-#{$bp-key}-#{$i} {
        flex-basis: (100% / $grid-cols * $i);
        max-width: (100% / $grid-cols * $i);
      }
    }
  }
}
